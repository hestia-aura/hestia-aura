<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Email router — demo</title>
<link rel="icon" href="/assets/logo.jpg">
<link rel="apple-touch-icon" href="/assets/logo.jpg">
<link rel="stylesheet" href="/styles.css?v=final3">
<style>
  .wrap{max-width:1080px;margin:0 auto;padding:24px 20px}
  h1{font-size:32px;margin:8px 0 4px}
  p.muted{opacity:.85;margin:0 0 14px}
  .toolbar{display:flex;gap:10px;align-items:center;margin:6px 0 12px}
  select{background:#0f1117;color:#e6edf3;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:8px 10px}
  textarea{display:block;width:100%;min-height:220px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0f1117;color:#e6edf3;padding:12px}
  .btn{display:inline-block;background:#6366f1;color:#fff;border:none;border-radius:12px;padding:10px 14px;font-weight:600;box-shadow:0 6px 20px rgba(99,102,241,.35);cursor:pointer}
  .result{margin-top:14px;padding:12px;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:#0f1117}
  .result:empty{display:none}
  .badge{display:inline-block;border-radius:999px;padding:4px 10px;font-size:12px;font-weight:700;margin-right:8px}
  .invoice{background:rgba(34,197,94,.15);border:1px solid rgba(34,197,94,.35);color:#86efac}
  .support{background:rgba(59,130,246,.15);border:1px solid rgba(59,130,246,.35);color:#93c5fd}
  .sales{background:rgba(234,179,8,.15);border:1px solid rgba(234,179,8,.35);color:#fde68a}
  .hr{background:rgba(244,63,94,.15);border:1px solid rgba(244,63,94,.35);color:#fda4af}
  .other{background:rgba(148,163,184,.15);border:1px solid rgba(148,163,184,.35);color:#cbd5e1}
  .hint{color:#c7ccd3;margin-top:8px}
</style>
</head><body>
<header class="site-header"><div class="container header-inner">
  <a class="brand" href="/en/" aria-label="Hestia Aura">
    <img src="/assets/logo.jpg" alt="Hestia Aura — logo" class="brand-mark"><span class="brand-name">Hestia <strong>Aura</strong></span>
  </a>
<nav class="nav">
  <a href="/en/">Home</a>
  <a href="/en/about.html">About</a>
  <a href="/en/showcase.html">Showcase</a>
  <a class="btn btn--sm" href="/demos/email-router/">FR</a>
</nav>
</div></header>

<main class="wrap">
  <h1>Email router — demo</h1>
  <p class="muted">Paste an email or pick a preset. Classification runs locally in your browser.</p>

  <div class="toolbar">
    <label for="preset">Presets:</label>
    <select id="preset" aria-label="Choose a sample email">
      <option value="">— None —</option>
      <option value="invoice">Overdue invoice</option>
      <option value="support">Support ticket (bug)</option>
      <option value="sales">Quote request</option>
      <option value="hr">Application / HR</option>
    </select>
    <button id="run" class="btn">Classify</button>
  </div>

  <textarea id="mail" placeholder="Paste an email here…"></textarea>

  <div id="result" class="result"></div>
  <div class="hint">Labels: Invoice · Support · Sales · HR · Other</div>
</main>

<footer class="site-footer"><div class="container footer-inner">
  <span>© <span id="y"></span> Jérôme J.</span><a href="mailto:contact@hestiaaura.com">contact@hestiaaura.com</a>
</div></footer>

<script>
const ta = document.getElementById('mail');
const btn = document.getElementById('run');
const res = document.getElementById('result');
const preset = document.getElementById('preset');

const presets = {
  invoice: `Hello,\\n\\nOur records show invoice FV-2024-031 for CHF 1,290.50 is due on August 15. Please proceed with payment (IBAN CH…).\\n\\nRegards, Accounting`,
  support: `Hi,\\n\\nWe have a critical issue: report export fails (error 500). Can you help? Ticket #4581.\\n\\nThanks, IT Support`,
  sales: `Hello,\\n\\nCould you send us a quote for 20 licenses with support? What are your pricing and lead times?\\n\\nBest, Procurement`,
  hr: `Hello,\\n\\nPlease find attached my resume for the Data Analyst position in Geneva. Available for an interview next week.\\n\\nRegards, Candidate`
};

function classify(text){
  const t = text.toLowerCase();
  const tests = [
    {label:'Invoice',  kw:['invoice','facture','purchase order','vat','payment due','due date']},
    {label:'Support',  kw:['issue','bug','incident','help','support','problem','error']},
    {label:'Sales',    kw:['offer','quote','pricing','proposal','order','purchase']},
    {label:'HR',       kw:['cv','resume','recruit','hr','interview','contract','salary']}
  ];
  let best = {label:'Other', score:0};
  for(const r of tests){
    let s = 0;
    for(const k of r.kw){ if(t.includes(k)) s++; }
    if(s>best.score) best = {label:r.label, score:s};
  }
  const conf = Math.min(99, 50 + best.score*15);
  return {label: best.label, confidence: conf};
}

function suggestedAction(label){
  switch(label){
    case 'Invoice': return 'Route to Accounting (AP@…); create a Finance ticket.';
    case 'Support': return 'Open a P1 support ticket; notify Product.';
    case 'Sales':   return 'Create a CRM opportunity; reply with quote & lead times.';
    case 'HR':      return 'Forward to HR; trigger auto-reply to candidate.';
    default:        return 'Queue in “To triage”.';
  }
}

function renderResult(out){
  const cls = out.label.toLowerCase();
  res.innerHTML = '<span class="badge '+cls+'">'+out.label+'</span> Confidence: '+out.confidence+'%<br><div class="hint">'+suggestedAction(out.label)+'</div>';
}

function onRun(){
  const text = ta.value.trim();
  res.textContent = '';
  if(!text) return;
  const out = classify(text);
  renderResult(out);
}

btn.addEventListener('click', onRun);
preset.addEventListener('change', (e)=>{
  const v = e.target.value;
  if(!v){ ta.value=''; res.textContent=''; return; }
  ta.value = presets[v];
  onRun();
});
ta.addEventListener('input', () => { if(!ta.value.trim()) res.textContent = ''; });
</script>
</body></html>
