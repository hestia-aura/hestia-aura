<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Python — KPIs, qualité & mini-app | Hestia Aura</title>

  <link rel="icon" href="/assets/logo.jpg">
  <link rel="apple-touch-icon" href="/assets/logo.jpg">
  <link rel="stylesheet" href="/styles.css?v=final3">

  <meta name="description" content="Démo pédagogique Python : génération de données, ingestion & nettoyage, KPIs mensuels avec graphiques, contrôles qualité, journal d’exécution et mini-app Streamlit.">
  <meta property="og:title" content="Showcase Python — Hestia Aura">
  <meta property="og:description" content="Pipeline léger en Python : Pandas, SQLite, graphiques Matplotlib, contrôles qualité et mini-app Streamlit.">
  <meta property="og:image" content="/assets/logo.jpg">
</head>

<body class="powerbi">
  <!-- En-tête du site -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/"><img src="/assets/logo.jpg" class="brand-mark" alt="logo"><span class="brand-name">Hestia <strong>Aura</strong></span></a>
      <nav class="nav">
        <a href="/">Accueil</a>
        <a href="/about.html">À propos</a>
        <a href="/showcase.html">Showcase</a>
        <a class="btn btn--sm" href="/en/demos/python/">EN</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- Hero -->
    <section class="hero">
      <div class="container">
        <h1>Python — KPIs, qualité & mini-app</h1>
        <p>
          Jeu de données e-commerce fictif et pipeline léger en <strong>Pandas</strong> :
          génération → ingestion & nettoyage → KPIs mensuels + graphiques →
          contrôles qualité & journal → mini-app <strong>Streamlit</strong>.
        </p>

        <div class="pills">
          <span class="pill">Python</span>
          <span class="pill">Pandas</span>
          <span class="pill">SQLite</span>
          <span class="pill">Matplotlib</span>
          <span class="pill">Streamlit</span>
        </div>

        <p style="margin-top:12px;">
          <a class="btn btn--sm btn--primary" href="/showcase.html">↩ Retour au Showcase</a>
        </p>

        <ul class="hero-badges" style="margin-top:8px">
          <li><a href="#p1">P1 — Ingestion & nettoyage</a></li>
          <li><a href="#p2">P2 — KPIs mensuels & graphiques</a></li>
          <li><a href="#p3">P3 — Contrôles qualité & logs</a></li>
          <li><a href="#p4">P4 — Mini-app Streamlit</a></li>
        </ul>
      </div>
    </section>

    <!-- P1 -->
    <section id="p1" class="section">
      <div class="container">
        <h2>P1 — Ingestion & nettoyage</h2>

        <div class="capsule capsule--lr">
          <figure class="capsule-media figure">
            <img src="/assets/media/PY_P1_SCHEMA.jpg" alt="Schéma des tables clean écrites en SQLite (customers, orders, order_items, products, payments)">
            <figcaption>Schéma logique : clients → commandes → lignes → produits & paiements. Écriture en Parquet + SQLite.</figcaption>
          </figure>
          <div class="capsule-body">
            <h3>Objectif</h3>
            <p>Charger des données factices, appliquer un nettoyage minimal et les stocker en formats analytiques.</p>
            <ul class="feature-list">
              <li>Typages sûrs (dates, montants) &amp; coercition des valeurs numériques.</li>
              <li>Tables <em>clean</em> sauvegardées en Parquet et dans une base <strong>SQLite</strong> pour la suite.</li>
              <li>Structure simple et réutilisable pour des notebooks, scripts ou un ETL.</li>
            </ul>
            <figure class="figure" style="margin-top:10px">
              <img src="/assets/media/PY_P1_CLEAN_SAMPLE.jpg" alt="Liste des fichiers parquet écrits (customers.parquet, orders.parquet, order_items.parquet, payments.parquet, products.parquet)">
              <figcaption>Fichiers Parquet produits pendant l’étape d’ingestion.</figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>

    <!-- P2 -->
    <section id="p2" class="section">
      <div class="container">
        <h2>P2 — KPIs mensuels & graphiques</h2>

        <div class="capsule">
          <div class="capsule__left">
            <figure class="figure">
              <img src="/assets/media/PY_P2_CSV.jpg" alt="CSV des KPIs mensuels (year_month, revenue_chf, orders_cnt, active_customers, avg_order_value)">
              <figcaption>Table <code>sales_monthly</code> exportée en CSV pour usage externe.</figcaption>
            </figure>
          </div>
          <div class="capsule__right">
            <p>À partir des tables <em>clean</em>, on calcule des agrégats mensuels : CA (CHF), nombre de commandes, clients actifs, panier moyen. On trace ensuite deux graphiques pour une lecture rapide.</p>
            <figure class="figure">
              <img src="/assets/media/PY_P2_REVENUE.png" alt="Ligne : chiffre d'affaires mensuel">
              <figcaption>Évolution du chiffre d’affaires mensuel.</figcaption>
            </figure>
            <figure class="figure">
              <img src="/assets/media/PY_P2_ORDERS.png" alt="Barres : nombre de commandes mensuel">
              <figcaption>Volume de commandes par mois.</figcaption>
            </figure>
            <figure class="figure">
              <img src="/assets/media/PY_P2_RUN.jpg" alt="Console - script P2 terminé, chemins d'exports">
              <figcaption>Traçage en console : confirmation des exports CSV/PNG.</figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>

    <!-- P3 -->
    <section id="p3" class="section">
      <div class="container">
        <h2>P3 — Contrôles qualité & journal</h2>

        <div class="capsule capsule--lr">
          <figure class="capsule-media figure">
            <img src="/assets/media/PY_P3_QUALITY.jpg" alt="Synthèse des contrôles qualité : doublons, NULL, paiements négatifs, références manquantes">
            <figcaption>Règles simples : doublons, valeurs NULL, montants négatifs, références orphelines.</figcaption>
          </figure>
          <div class="capsule-body">
            <p>Les résultats sont agrégés dans un tableau de synthèse et un <strong>journal d’exécution</strong> consigne chaque run (date/heure, statut, nombre d’issues).</p>
            <figure class="figure" style="margin-top:10px">
              <img src="/assets/media/PY_P3_LOGS.jpg" alt="job_runs.csv ouvert (colonnes job_name, timestamp, status, issues_found)">
              <figcaption>Extrait de <code>logs/job_runs.csv</code> après un run de qualité.</figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>

    <!-- P4 -->
    <section id="p4" class="section">
      <div class="container">
        <h2>P4 — Mini-app Streamlit (KPIs & API)</h2>

        <div class="capsule">
          <div class="capsule__left">
            <figure class="figure">
              <img src="/assets/media/PY_P4_APP_HOME.jpg" alt="Dashboard Streamlit : table derniers mois, 2 graphiques (CA et commandes)">
              <figcaption>Accueil de la mini-app : derniers mois + courbes.</figcaption>
            </figure>
          </div>
          <div class="capsule__right">
            <p>Un bouton appelle une petite fonction d’<strong>API externe</strong> (taux de change & météo mock) et écrit un log supplémentaire. Idéal pour illustrer une intégration simple.</p>
            <figure class="figure">
              <img src="/assets/media/PY_P4_APP_API.jpg" alt="Journal Streamlit après appel d'API (message EUR/CHF, météo Genève)">
              <figcaption>Feedback de l’appel — message consolidé dans la table de logs.</figcaption>
            </figure>
            <figure class="figure">
              <img src="/assets/media/PY_P4_LOGS_AFTER.jpg" alt="job_runs.csv après l'appel d'API (ligne external_api)">
              <figcaption>Trace persistée côté fichiers : nouvel enregistrement <code>external_api</code>.</figcaption>
            </figure>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Pied de page -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <span>© <span id="y"></span> Jérôme Jeannin</span>
      <a href="mailto:contact@hestiaaura.com">contact@hestiaaura.com</a>
    </div>
  </footer>

  <script src="/app.js?v=final3"></script>

  <!-- Lightbox image (même composant que les autres pages) -->
  <div class="image-modal" id="imgModal" aria-hidden="true">
    <button class="close" id="imgModalClose" aria-label="Fermer l’image">Fermer ✕</button>
    <img id="imgModalImg" alt="">
  </div>
</body>
</html>
