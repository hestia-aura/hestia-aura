<!DOCTYPE html><html lang="fr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Démonstration — RAG interne</title>
<link rel="icon" href="/assets/logo.jpg">
<link rel="apple-touch-icon" href="/assets/logo.jpg">
<link rel="stylesheet" href="/styles.css?v=final3">
<style>
  .wrap{max-width:1080px;margin:0 auto;padding:24px 20px}
  h1{font-size:32px;margin:8px 0 10px}
  .muted{opacity:.85;margin:0 0 14px}
  .search{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#0f1117;color:#e6edf3}
  .card{background:#0f1117;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px;margin-top:14px}
  .tags{color:#c7ccd3;margin-top:8px}
</style>
</head><body>
<header class="site-header"><div class="container header-inner">
  <a class="brand" href="/" aria-label="Hestia Aura">
    <img src="/assets/logo.jpg" alt="logo" class="brand-mark"><span class="brand-name">Hestia <strong>Aura</strong></span>
  </a>
  <nav class="nav"><a href="/">Accueil</a><a href="/showcase.html">Showcase</a><a class="btn btn--sm" href="/en/">EN</a></nav>
</div></header>

<main class="wrap">
  <h1>Démonstration — RAG interne</h1>
  <p class="muted">Recherche simple sur un petit corpus JSON (front-end uniquement, pas de backend).</p>

  <input id="q" class="search" placeholder="Rechercher (ex : facture, RGPD, dépenses)…">
  <div id="list"></div>
</main>

<script>
  const list = document.getElementById('list');
  const q    = document.getElementById('q');
  let corpus = [];

  function render(items){
    list.innerHTML = '';
    items.forEach(it => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `
        <h3 style="margin:0 0 6px">${it.title}</h3>
        <p style="margin:0 0 6px">${it.content}</p>
        <div class="tags">Tags: ${it.tags.join(' · ')} • ${it.date}</div>
      `;
      list.appendChild(div);
    });
  }

  function filter(){
    const t = q.value.trim().toLowerCase();
    if(!t){ render(corpus); return; }
    const res = corpus.filter(it =>
      it.title.toLowerCase().includes(t) ||
      it.content.toLowerCase().includes(t) ||
      it.tags.join(' ').toLowerCase().includes(t)
    );
    render(res);
  }

  fetch('./corpus.json')
    .then(r => r.json())
    .then(data => { corpus = data; render(corpus); });

  q.addEventListener('input', filter);
</script>
</body></html>
